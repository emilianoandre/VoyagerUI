<div id="ruleManagerSpinner" class="spinner" hidden>
  <div class="rect1"></div>
  <div class="rect2"></div>
  <div class="rect3"></div>
  <div class="rect4"></div>
  <div class="rect5"></div>
</div>

<div id="ruleManagerTableDiv">
	<alert></alert>
	<p-dataTable [value]="ruleManagers" [rows]="10" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20]"
			selectionMode="single" [(selection)]="selectedRuleManager"> 
		<p-column *ngFor="let col of cols" [field]="col.field" [header]="col.header" [sortable]="true"  [styleClass]="col.styleClass">
		</p-column>
		<footer>
			<div class="ui-helper-clearfix" style="width:100%">
				<button type="button" pButton icon="fa-plus" style="float:left" (click)="showDialog(true)" label="Add"></button>
				<button type="button" pButton icon="fa-edit" style="float:left" (click)="showDialog(false, selectedRuleManager)" label="Edit"></button>
				<button type="button" pButton icon="fa-remove" style="float:right" (click)="deleteRuleManager(selectedRuleManager)" label="Delete"></button>
			</div>
		</footer>	
	</p-dataTable>
	
	<p-dialog header="RuleManager Type Details" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true" [width]="500">
		<form [formGroup]="ruleManagerForm">
			<div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid"
				style="margin: 10px 0px">
				<div class="ui-grid-row">
					<div class="ui-grid-col-4">ID:</div>
					<div class="ui-grid-col-9">
						<input pInputText type="text" formControlName="ruleManagerId" [(ngModel)]="ruleManager.idRuleManager"  style="width: 66.66%"/>
					</div>
				</div>
				<div class="ui-grid-row">
					<div class="ui-grid-col-4">Name *:</div>
					<div class="ui-grid-col-9">
						<input pInputText type="text" formControlName="name"
							placeholder="Required" [(ngModel)]="ruleManager.name" style="width: 66.66%"/>
						<span class="ui-message ui-messages-error ui-corner-all"
							*ngIf="ruleManagerForm&&!ruleManagerForm.controls['name'].valid&&ruleManagerForm.controls['name'].dirty">
							<i class="fa fa-close"></i> Required!
						</span>
					</div>
				</div>
				<div class="ui-grid-row">
					<div class="ui-grid-col-4">URL *:</div>
					<div class="ui-grid-col-9">
						<input pInputText type="text" formControlName="url"
							placeholder="Required" [(ngModel)]="ruleManager.url" style="width: 66.66%"/>
						<span class="ui-message ui-messages-error ui-corner-all"
							*ngIf="ruleManagerForm&&!ruleManagerForm.controls['url'].valid&&ruleManagerForm.controls['url'].dirty">
							<i class="fa fa-close"></i> Required!
						</span>
					</div>
				</div>
				<div class="ui-grid-row">
					<div class="ui-grid-col-4">RuleManager Type *:</div>
					<div class="ui-grid-col-9">
						<p-dropdown [options]="ruleManagerTypesList" formControlName="ruleManagerType" [(ngModel)]="ruleManager.ruleManagerType" 
							placeholder="Required" [style]="{'width':'66.66%'}"></p-dropdown>
						<span class="ui-message ui-messages-error ui-corner-all"
							*ngIf="ruleManagerForm&&!ruleManagerForm.controls['ruleManagerType'].valid&&ruleManagerForm.controls['ruleManagerType'].dirty">
							<i class="fa fa-close"></i> Required!
						</span>
					</div>
				</div>
				<footer>
			        <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
			        	<button type="button" pButton icon="fa-check" (click)="save()" label="Save" [disabled]="!ruleManagerForm.valid"></button>
			            <button type="button" pButton icon="fa-close" (click)="closeDialog()" label="Cancel"></button>			            
			        </div>
		    	</footer>
			</div>
		</form>
	</p-dialog>
</div>